# PR Reviewer Service

Микросервис для автоматического назначения ревьюеров на Pull Request’ы, управления командами и активностью пользователей.

---

## ТЗ

### Основные требования

- [x] Взаимодействие только через **HTTP API** (OpenAPI-спека `openapi.yml` в корне которую дали изначально, изменялась)
- [x] **Создание PR**: при создании назначаются до 2 активных ревьюеров из команды автора, исключая автора
- [x] **Переназначение ревьюера**: замена одного ревьюера на другого активного участника команды заменяемого ревьюера
- [x] **Запрет изменений после MERGED**: после merge списка ревьюеров изменить нельзя
- [x] **Учет isActive**: неактивные пользователи не назначаются на ревью и не выбираются для переназначения
- [x] **Идемпотентный merge**: повторный вызов `/pullRequest/merge` не падает, а возвращает текущее состояние PR
- [x] **Управление командами**: создание команды с участниками, получение команды по имени
- [x] **Управление пользователями**: смена статуса активности, получение списка PR пользователя
- [x] **PostgreSQL + миграции** через `goose`
- [x] **Запуск через `docker-compose up`**, сервис на порту `8080`
- [x] Применение миграций при старте сервиса

### Дополнительные задания

- [x] **Статистика** — эндпоинт `/stats/reviewers?team_name=...` с количеством назначений по ревьюерам в команде
- [x] **E2E-тестирование** — интеграционный тест полного сценария с использованием `testcontainers-go`
- [x] Нагрузочное тестирование (k6) — **реализовано**
- [x] Отдельно описанная конфигурация линтера 

---

```bash
docker-compose up --build
